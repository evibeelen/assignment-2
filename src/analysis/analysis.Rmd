---
title: "Analysis"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(data.table)
library(ggplot2)

# read final data
dt <- fread('../../gen/data-preparation/output/dataset.csv')
```

## Some rudimentary analysis in Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button in RStudio,a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. 

You can also **knit** the document from the command line, see the example in the `makefile`.


### Summary statistics

```{r}
#summary(dt$horeca)
```

### Number of tweets per subject

```{r}
Schools<-sum(dt$Schools, na.rm = TRUE)
Contact<-sum(dt$`Contact-Based Professions`, na.rm = TRUE)
Nursing <- sum(dt$`Nursing homes`, na.rm = TRUE)
Hospitality<-sum(dt$Hospitality, na.rm = TRUE)
Event<- sum(dt$Events, na.rm = TRUE)
General<-sum(dt$General, na.rm = TRUE)

cat("Number of tweets about the School Measures is", Schools, "\n","Number of tweets about the contact-based profession Measures is", Contact, "\n", "Number of tweets about the Nursing homes Measures is", Nursing, "\n","Number of tweets about the Hospitality Measures is", Hospitality, "\n", "Number of tweets about the Event Measures is", Event, "\n", "Number of tweets generally about the press conference is", General)


```

```{r}
# Overlaid histograms
df <- data.frame(Subject=c("Schools", "Contact-Based Professions", "Nursing Homes", "Hospitality", "Events", "General"),
                Frequency=c(Schools, Contact, Nursing,Hospitality,Event,General))

ggplot(data=df, aes(x=Subject, y=Frequency)) +
  geom_bar(stat="identity")
```

